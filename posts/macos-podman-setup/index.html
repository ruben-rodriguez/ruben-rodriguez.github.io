<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Ruben"><meta name=description content="Setting up podman in MacOS"><meta name=keywords content="homepage,blog,MacOS,Setup,Containers,Laptops"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://ruben-rodriguez.github.io/posts/macos-podman-setup/><title>Podman setup in MacOS :: Ruben Rodriguez — Some personal notes and random thoughts</title><link rel=stylesheet href=/main.min.7289daf2e88ea2c7b253a51cc5794c7cc17e7aeb7295a19d978db764a5862f25.css integrity="sha256-cona8uiOoseyU6UcxXlMfMF+eutylaGdl423ZKWGLyU=" crossorigin=anonymous><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Podman setup in MacOS"><meta itemprop=description content="Setting up podman in MacOS"><meta itemprop=datePublished content="2026-01-20T00:00:00+08:00"><meta itemprop=dateModified content="2026-01-20T00:00:00+08:00"><meta itemprop=wordCount content="568"><meta itemprop=image content="https://ruben-rodriguez.github.io/"><meta itemprop=keywords content="MacOS,Setup,Containers,Laptops"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ruben-rodriguez.github.io/"><meta name=twitter:title content="Podman setup in MacOS"><meta name=twitter:description content="Setting up podman in MacOS"><meta property="article:published_time" content="2026-01-20 00:00:00 +0800 +0800"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>Ruben Rodriguez</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about>About</a></li><li><a href=/posts>Posts</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p></p></div><article><h1 class=post-title><a href=https://ruben-rodriguez.github.io/posts/macos-podman-setup/>Podman setup in MacOS</a></h1><div class=post-excerpt>Setting up podman in MacOS</div><div class=post-content><h2 id=context>Context</h2><p>I recently got my hands on a Macbook Pro M1 Max, and I wanted to set up a local container environment for development purposes. I&rsquo;m used to run containers natively on Linux, but on MacOS, I had to find an alternative solution. After some research, I decided to use Podman, which is a daemonless container engine that can run on MacOS using a virtual machine.</p><h2 id=installation>Installation</h2><p><a href=https://podman.io/docs/installation>Podman installation instructions</a></p><p>I used <a href=https://brew.sh/>brew</a> to install Podman:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ brew install podman
</span></span></code></pre></div><p>To start using it, you just need to:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ podman machine init
</span></span><span style=display:flex><span>λ podman machine start
</span></span></code></pre></div><p>And verify with</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ podman info
</span></span></code></pre></div><p>You can now add the <code>docker</code> alias if you have muscular memory.
This heavily depends on your shell; in my case, I use <code>fish</code> shell so I added the following line to my <code>~/.config/fish/config.fish</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>alias docker podman
</span></span></code></pre></div><h2 id=custom-ssl-certificates>Custom SSL Certificates</h2><p><a href=https://podman-desktop.io/docs/podman/adding-certificates-to-a-podman-machine>Adding certificates to a Podman machine</a></p><p>There are special situations, like when you are working within a corporate environment with a VPN connection and custom SSL certificates, where you need to make sure that the container engine can access those certificates. In such cases, you can mount the directory containing the certificates into the Podman machine.</p><p>In my case, the certificates where located remotely, hence I did:</p><ol><li>Access your podman machine and become <code>root</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ podman machine ssh
</span></span><span style=display:flex><span>λ sudo su -
</span></span></code></pre></div><ol start=2><li>Fetch the certificates, placing them in the <code>/etc/pki/ca-trust/source/anchors/</code> directory:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>curl -o /etc/pki/ca-trust/source/anchors/corp.crt https://example.com/corp.crt
</span></span></code></pre></div><ol start=3><li>Update the system trust store and exit the machine:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ update-ca-trust
</span></span><span style=display:flex><span>λ exit
</span></span></code></pre></div><p>This is probably not enough, as you might need to also add these certificates as a volume available when building the containers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ podman build --volume &lt;path-to-local-certs&gt;:/etc/ssl/certs:ro -t &lt;image-name&gt; .
</span></span></code></pre></div><h2 id=conatiner-inspection-with-dive>Conatiner inspection with Dive</h2><p>From time to time, need arises to take a closer look to a particular container.
For such endeavour, I use <a href=https://github.com/wagoodman/dive>dive</a> tool, which allows to inspect the layers of a container image and see how they are built up.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ brew install dive
</span></span></code></pre></div><p>For running dive against podman:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ dive podman://&lt;image-name&gt;
</span></span></code></pre></div><h2 id=bonus-azure-cloud--acr>Bonus: Azure Cloud & ACR</h2><p>If you are using Azure Cloud and Azure Container Registry (ACR), you will probably need to authenticate (more often than not) to ACR to pull images.</p><p>The trick here is to set the <code>DOCKER_COMMAND</code> environment variable to <code>podman</code> before running the <code>az acr login</code> command.
As you can imagine, I added this to my <code>~/.config/fish/config.fish</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>set -x DOCKER_COMMAND podman
</span></span></code></pre></div><p>This way, when you run <code>az acr login</code>, it will use <code>podman</code> instead of <code>docker</code> to authenticate to ACR, and you will be able to pull images from ACR using Podman without any issues.</p><p>Also helpful if you are using helm charts stored in such ACR with <code>helm dependency update & helm dependency build</code>!</p><blockquote><p>Make sure your podman machine is running before executing the <code>az acr login</code> command, otherwise you might encounter authentication issues.</p></blockquote><h2 id=bonus-minikube>Bonus: Minikube</h2><p>After setting up pdoman, minikube is the next logical step if you want to have a local Kubernetes cluster for development purposes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ brew install minikube
</span></span></code></pre></div><blockquote><p>For custom SSL certificates, as before, you will need to copy the custom SSL certificates to the minikube VM:
<code>λ cp &lt;path-to-local-certs> .minikube/certs/</code></p></blockquote><p>Then start the minikube cluster using the <code>podman</code> driver:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sh data-lang=sh><span style=display:flex><span>λ minikube start --driver<span style=color:#f92672>=</span>podman --container-runtime<span style=color:#f92672>=</span>cri-o
</span></span></code></pre></div><p>This will start a local Kubernetes cluster using Podman as the container runtime, and you will be able to use <code>kubectl</code> to interact with the cluster as usual.</p></div></article><hr><div class=post-info><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://ruben-rodriguez.github.io/tags/macos/>MacOS</a></span>
<span class=tag><a href=https://ruben-rodriguez.github.io/tags/setup/>Setup</a></span>
<span class=tag><a href=https://ruben-rodriguez.github.io/tags/containers/>Containers</a></span>
<span class=tag><a href=https://ruben-rodriguez.github.io/tags/laptops/>Laptops</a></span></p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
568 Words</p><p><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
2026-01-19 16:00</p></div><div class=pagination><div class=pagination__buttons><span class="button next"><a href=https://ruben-rodriguez.github.io/posts/ingress-nginx-server-side-includes/><span class=button__text>Micro-frontends and Ingress Nginx - Server Side Includes</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.08b680078a3cf9c69e3dd217a5aa52cfddd4a1d850f8cdff127fdd7421a71f8b2b474be69386f67819edace92273916e7230c9054f38107db9dc6730b3530ab5.js integrity="sha512-CLaAB4o8+caePdIXpapSz93UodhQ+M3/En/ddCGnH4srR0vmk4b2eBntrOkic5FucjDJBU84EH253Gcws1MKtQ=="></script></body></html>